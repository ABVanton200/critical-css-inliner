var e=require("critical-css-parser"),i=require("inline-critical"),r=require("fs"),t=require("path"),n={base:"dist/",src:"index.html",target:"index-critical.html",inlineGoogleFonts:!0,minify:!0,ignoreStylesheets:[/bootstrap/],whitelist:/#foo|\.bar/};module.exports=function(s){try{var a=Object.assign({},n,s);return Promise.resolve(e({type:"localServer",entrypoint:a.base,filename:a.src,enableGoogleFonts:a.inlineGoogleFonts,minify:a.minify,whitelist:a.whitelist})).then(function(e){var n=r.readFileSync(t.resolve(a.base,a.src),"utf8"),s=i(n,e.critical,{extract:!0,basePath:a.base,minify:a.minify,ignore:a.ignoreStylesheets});return r.writeFileSync(t.resolve(a.base,a.target),s,"utf8"),!0})}catch(e){return Promise.reject(e)}};
//# sourceMappingURL=index.mjs.map
